"use strict";(self["webpackChunkvue_week_6"]=self["webpackChunkvue_week_6"]||[]).push([[363],{422:function(t,e,n){function i(t){return{all:t=t||new Map,on:function(e,n){var i=t.get(e);i?i.push(n):t.set(e,[n])},off:function(e,n){var i=t.get(e);i&&(n?i.splice(i.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var i=t.get(e);i&&i.slice().map((function(t){t(n)})),(i=t.get("*"))&&i.slice().map((function(t){t(e,n)}))}}}n.d(e,{Z:function(){return s}});const a=i();var s=a},2363:function(t,e,n){n.r(e),n.d(e,{default:function(){return L}});var i=n(3396),a=n(7139),s=n(9242);const l={class:"container"},o=(0,i._)("h2",null,"購物車列表",-1),d={class:"table align-middle"},c=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"圖片"),(0,i._)("th",null,"商品名稱"),(0,i._)("th",null,"價格"),(0,i._)("th")])],-1),r={style:{width:"200px"}},u={key:0,class:"h5"},p={key:1},g={class:"h6"},h={class:"h5"},_={class:"btn-group btn-group-sm"},b=["onClick","disabled"],m=["onClick","disabled"],v={class:"spinner-grow spinner-grow-sm"},w=(0,i.Uk)(" 加到購物車 ");function f(t,e,n,f,k,y){return(0,i.wg)(),(0,i.iD)("div",l,[o,(0,i._)("table",d,[c,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(k.products,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("td",r,[(0,i._)("div",{style:(0,a.j5)([{backgroundImage:`url(${e.imageUrl})`},{height:"100px","background-size":"cover","background-position":"center"}])},null,4)]),(0,i._)("td",null,(0,a.zw)(e.title),1),(0,i._)("td",null,[e.price===e.origin_price?((0,i.wg)(),(0,i.iD)("div",u,(0,a.zw)(e.price)+" 元 ",1)):((0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("del",g,"原價 "+(0,a.zw)(e.origin_price)+" 元",1),(0,i._)("div",h,"現在只要 "+(0,a.zw)(e.price)+" 元",1)]))]),(0,i._)("td",null,[(0,i._)("div",_,[(0,i._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:n=>t.openProductModal(e.id),disabled:e.id===k.isLoadingItem}," 查看更多 ",8,b),(0,i._)("button",{type:"button",class:"btn btn-outline-danger",onClick:t=>y.addToCart(e.id),disabled:e.id===k.isLoadingItem},[(0,i.wy)((0,i._)("span",v,null,512),[[s.F8,e.id===k.isLoadingItem]]),w],8,m)])])])))),128))])])])}var k=n(422);const y="https://vue3-course-api.hexschool.io/",C="mylmii";var I={data(){return{cartData:{carts:[]},products:[],isLoadingItem:""}},methods:{getProducts(){this.$http.get(`${y}api/${C}/products/all`).then((t=>{this.products=t.data.products})).catch((t=>{alert(t.data.message)}))},addToCart(t,e=1){const n={product_id:t,qty:e};this.isLoadingItem=t,this.$http.post(`${y}api/${C}/cart`,{data:n}).then((t=>{alert(t.data.message),this.isLoadingItem="",k.Z.emit("get-cart")})).catch((t=>{alert(t.data.message)}))}},mounted(){this.getProducts()}},$=n(89);const D=(0,$.Z)(I,[["render",f]]);var L=D}}]);
//# sourceMappingURL=363.3cc1da38.js.map